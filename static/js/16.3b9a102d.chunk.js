(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{84:function(e,t,a){"use strict";a.r(t);var n=a(20),r=a(3),c=a.n(r),o=a(6),s=a(2),i=a.n(s),l=a(18),u=a(91),p=a(19),m=a(0),d=(a(45),m.a()),f=m.f(),v=m.e();t.default=function(e){var t=function(){var e=Object(l.c)(function(e){return e.observeChanges}),t=Object(l.b)(),a=function(){var e=Object(o.a)(c.a.mark(function e(a){var n,r,o,s,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=["id","name","email","isqvmAgent","isAdmin"],r={query:"getQueryUsersDetails",params:{userId:m.Q()},Collection:"Users",arraySerialization:m.Y(),fields:n},o=m.x(m.S(),r),e.next=5,o;case 5:(s=e.sent)&&(i=m.Y()?m.u(s,n,1):s,m.ub("agentsList",i),t({type:"UPD_KEY_VALUE",kv:{key:"observeChanges",value:m.C()}}));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return{observeChanges:e,_LoadCities:function(e){Object(p.fetchCities)(e,t)},dispatch:t,LoadUA:a,_updRemesa:function(e,a){Object(p.fetchRemesa)(e,t,a)}}}().dispatch,a=e.mvId,r=m.O(),b=r.movements,_=b&&b[a],h=_&&_.id,O=_&&_.prdDtls,N=O&&O.products,g=N&&m.m(N).length,S=Object(s.useState)(1),C=Object(n.a)(S,2),j=C[0],x=C[1],I=Object(s.useState)(0),D=Object(n.a)(I,2),R=(D[0],D[1],_&&_.amount*_.tasa?_.amount*_.tasa:0);g&&(R=O.total);_&&m.s(_.date);var T=_&&"".concat(_.type),M=_&&_.receiver&&_.receiver.name;_&&("COMBO"===_.type?(T="".concat(_.type," "),R=0):E(_.type)?T="REMESA":"INVESTMENT_FOOD"===_.type?T="INVERSION ":"INVESTMENT_INGREDIENTS"===_.type?T="INVERSION":"BTC"===_.type?T="BTC $(".concat(_.amount,")"):"TRANSFER"===_.type?(T="TRANSFER",M=_.agentDestinationDetails&&_.agentDestinationDetails.name):"DELIVERY_EXPS"===_.type&&(T="DELIVERY"));var w=_&&_.isPaid,k=function(){var e=Object(o.a)(c.a.mark(function e(a){var n,r,o,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={params:{id:_.id,agentId:_.agentId,isPaid:!w},query:"updateIsPaidMovement"},r=m.x(m.S(),n),e.next=4,r;case 4:o=e.sent,(s=b)[_.id]=_,s[_.id].isPaid=o,Object(p.calcMov)(t,s);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(o.a)(c.a.mark(function e(a){var n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={params:{id:_.id},query:"deleteByMovements"},r=m.x(m.S(),n),e.next=4,r;case 4:e.sent&&(Object(p.loadMovs)(t),Object(p.CloseModal)(t,{id:a}));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(o.a)(c.a.mark(function e(){var a,n,o,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={params:{id:_.id,agentId:_.agentId},query:"sendNotificationByAgent"},n=m.x(m.S(),a),e.next=4,n;case 4:e.sent&&(o=r.agentsList&&r.agentsList[_.agentId]&&r.agentsList[_.agentId].name,s={text:"Order ".concat(_.id," sent to ").concat(o)},Object(p.OpenToast)(t,s));case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),A="",F="";_&&(A="Entrega"===_.type?"_Rem":"BTC"===_.type?"_btc":"COMBO"===_.type?"_cmb":"INVESTMENT_FOOD"===_.type||"INVESTMENT_INGREDIENTS"===_.type?"_investFood":"DEBT"===_.type?"_debt":"TRANSFER"===_.type?"_trnsfr":"DELIVERY_EXPS"===_.type?"_dlvExp":"",F="Entrega"===_.type?"money_outline":"BTC"===_.type?"btc_circle":"COMBO"===_.type?"food_variant":"INVESTMENT_FOOD"===_.type||"INVESTMENT_INGREDIENTS"===_.type?"shopping_outline":"DEBT"===_.type?"bank_outline":"TRANSFER"===_.type?"bank_transfer":"DELIVERY_EXPS"===_.type?"moped":"");var q=("Entrega"===_.type||"COMBO"===_.type)&&!_.IsDelivery,V=m.H(),L=("Android"===V.os||"iPhone"===V.os||r.outerWidth,_&&_.orderId||_&&_.id,_&&_.prdDtls&&_.prdDtls.products);return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement("div",{className:"movementItem_mobile ".concat(j?L?"openCmb":"open":"")},i.a.createElement("div",{className:" mov_type _dsplFlx SmlB mov_actions ".concat(A)},i.a.createElement("div",{className:"iconBubble"},i.a.createElement(f,{name:F})),i.a.createElement("div",{className:"details_op "},i.a.createElement("div",{className:"title_head3r _dsplFlx "},i.a.createElement("h5",null,T),i.a.createElement("div",{className:"flexSpace"}),i.a.createElement("h3",null,"$",R&&R.toFixed(2))),i.a.createElement("div",{className:"desc_mov _dsplFlx"},i.a.createElement("h3",null,_&&_.orderId?"".concat(_.orderId):""),i.a.createElement("div",{className:"flexSpace"}))),i.a.createElement("div",{className:"flexSpace"}),i.a.createElement("div",{className:"actions"},i.a.createElement("div",{className:"icon_open ".concat(j?"up":"down"),onClick:function(){return x(!j)}},i.a.createElement(f,{name:"arrow_down"})))),j?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"separator"}),i.a.createElement("div",{className:"sendBtn _dsplFlx mov_actions destination"},i.a.createElement("div",{className:"recvr"},i.a.createElement("h5",null,M)),i.a.createElement("div",{className:"flexSpace"}),m.i()&&q?i.a.createElement("div",{className:"fieldPadding _MrgV _actBtnMg"},i.a.createElement("span",{onClick:function(){return B()}},i.a.createElement("div",{className:"icon_mov _icon_telegram_notf"},i.a.createElement(f,{name:"telegram"})))):null),L?i.a.createElement("div",{className:"infoDesc prodLst"},i.a.createElement("div",{className:"_dsplFlx "},L&&m.m(L).map(function(e,t){return i.a.createElement(y,{stckId:e,inDx:t,key:e+"_mdt_prod",movID:h})}))):null,i.a.createElement("div",{className:"separator"}),i.a.createElement("div",{className:"sendBtn _dsplFlx mov_actions"},i.a.createElement("div",{className:"flexSpace"}),i.a.createElement("div",{className:"sendBtn _dsplFlx spaceAround"},m.i()?i.a.createElement("div",{className:"fieldPadding _MrgV _actBtnMg"},i.a.createElement("span",{onClick:function(){return function(){var e={zIndex:450,observeResize:!0};e.props={item:h,minHeight:"190px"},e.content=i.a.createElement(v,{confirm:P}),Object(p.OpenModal)(t,e)}()}},i.a.createElement(d,{theme:"fire_brick",title:m.mb(68)}))):null,m.i()&&!_.IsDelivery?i.a.createElement("div",{className:"fieldPadding _MrgV _actBtnMg"},i.a.createElement("span",{onClick:function(){return k()}},i.a.createElement(d,{theme:w?"light_green":"",title:w?m.mb(69):m.mb(70)}))):null,i.a.createElement("div",{className:"fieldPadding _MrgV _actBtnMg"},i.a.createElement("span",null,i.a.createElement(u.a,{to:{pathname:"/mov_details",search:"?movId="+h},className:" u3mD2d xwW5Ce",onClick:function(e){m.ub("movementsDetails",_)}},i.a.createElement(d,{theme:"light_blue",title:m.mb(71)}))))))):null)))};var E=function(e){return"Entrega"===e||"REM_CARD_CUP"===e||"REM_CARD_MLC"===e||"REM_CASH_USD"===e||"REM_CASH_CUP"===e||"COMBO"===e},y=function(e){var t=e.stckId,a=e.movID,r=m.O(),c=r.movements&&r.movements[a]?r.movements[a]:{},o=c&&c.prdDtls&&c.prdDtls.products,l=o&&o[t],u=Object(s.useState)(null),p=Object(n.a)(u,2),d=p[0],f=(p[1],"pId_mk_vv"+l.productID),v=Object(s.useState)(null),E=Object(n.a)(v,2),y=E[0],b=E[1],_=Object(s.useState)(!1),h=Object(n.a)(_,2),O=h[0],N=h[1],g=Object(s.useState)(null),S=Object(n.a)(g,2),C=(S[0],S[1]),j=l&&l.imageUrl&&l.imageUrl+"?sz=170",x=j&&m.U()+j,I=m.L()[x];Object(s.useEffect)(function(){I||y||setTimeout(function(){m.qb(x,1);var e=document.createElement("img");e.id=f,e.style.display="none",e.addEventListener("load",function(e){b(!0),m.hb(f),m.qb(x,2),C(m.E())}),document.body.appendChild(e),e.src=x},75),O||N(!0)});d||l.qty;var D=l&&l.qty<0?-1*l.qty:1*l.qty;return i.a.createElement("div",{className:"mov_item_prodDt"},i.a.createElement("div",{className:"_dsplFlx"},i.a.createElement("div",{className:"_prodDt_img"},2===I?i.a.createElement("img",{src:x,className:"Ws3Esf",alt:""}):null),i.a.createElement("div",{className:"_prodDt_desc"},i.a.createElement("div",{className:"_qty"},D))))}},91:function(e,t,a){"use strict";var n=a(2),r=a.n(n),c=a(7),o=a.n(c),s=a(69),i=a(21),l=a.n(i),u=a(36),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var d=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},f=function(e){function t(){var a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,c=Array(r),o=0;o<r;o++)c[o]=arguments[o];return a=n=m(this,e.call.apply(e,[this].concat(c))),n.handleClick=function(e){if(n.props.onClick&&n.props.onClick(e),!e.defaultPrevented&&0===e.button&&!n.props.target&&!d(e)){e.preventDefault();var t=n.context.router.history,a=n.props,r=a.replace,c=a.to;r?t.replace(c):t.push(c)}},m(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),a=e.innerRef,n=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["replace","to","innerRef"]);l()(this.context.router,"You should not use <Link> outside a <Router>"),l()(void 0!==t,'You must specify the "to" property');var c=this.context.router.history,o="string"===typeof t?Object(u.b)(t,null,null,c.location):t,s=c.createHref(o);return r.a.createElement("a",p({},n,{onClick:this.handleClick,href:s,ref:a}))},t}(r.a.Component);f.propTypes={onClick:o.a.func,target:o.a.string,replace:o.a.bool,to:o.a.oneOfType([o.a.string,o.a.object]).isRequired,innerRef:o.a.oneOfType([o.a.string,o.a.func])},f.defaultProps={replace:!1},f.contextTypes={router:o.a.shape({history:o.a.shape({push:o.a.func.isRequired,replace:o.a.func.isRequired,createHref:o.a.func.isRequired}).isRequired}).isRequired};var v=f,E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var b=function(e){var t=e.to,a=e.exact,n=e.strict,c=e.location,o=e.activeClassName,i=e.className,l=e.activeStyle,u=e.style,p=e.isActive,m=e["aria-current"],d=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["to","exact","strict","location","activeClassName","className","activeStyle","style","isActive","aria-current"]),f="object"===("undefined"===typeof t?"undefined":y(t))?t.pathname:t,b=f&&f.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1");return r.a.createElement(s.a,{path:b,exact:a,strict:n,location:c,children:function(e){var a=e.location,n=e.match,c=!!(p?p(n,a):n);return r.a.createElement(v,E({to:t,className:c?[i,o].filter(function(e){return e}).join(" "):i,style:c?E({},u,l):u,"aria-current":c&&m||null},d))}})};b.propTypes={to:v.propTypes.to,exact:o.a.bool,strict:o.a.bool,location:o.a.object,activeClassName:o.a.string,className:o.a.string,activeStyle:o.a.object,style:o.a.object,isActive:o.a.func,"aria-current":o.a.oneOf(["page","step","location","date","time","true"])},b.defaultProps={activeClassName:"active","aria-current":"page"};t.a=b}}]);
//# sourceMappingURL=16.3b9a102d.chunk.js.map