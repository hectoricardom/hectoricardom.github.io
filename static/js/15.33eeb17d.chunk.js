(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{110:function(e,t,a){"use strict";a.r(t),a.d(t,"calcMovExpInc",function(){return g}),a.d(t,"loadGastos",function(){return O}),a.d(t,"groupbyTab",function(){return j}),a.d(t,"filterbyUser",function(){return C});var n=a(20),r=a(3),c=a.n(r),i=a(6),l=a(2),o=a.n(l),s=a(18),u=a(90),m=(a(91),a(19)),d=a(8),p=a(0),f=(a(45),p.a()),v=p.o(),b=(p.e(),p.g()),h=(p.c(),p.n(),Object(d.a)(function(){return a.e(1).then(a.bind(null,92))}),Object(d.a)(function(){return a.e(34).then(a.bind(null,98))})),y=(Object(d.a)(function(){return a.e(36).then(a.bind(null,99))}),p.d()),E=p.f(),_=function(){var e=Object(s.c)(function(e){return e.observeChanges}),t=Object(s.b)(),a=function(){var e=Object(i.a)(c.a.mark(function e(a){var n,r,i,l,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=["id","name","email","isqvmAgent","isAdmin"],r={query:"getQueryUsersDetails",params:{userId:p.Q()},Collection:"Users",arraySerialization:p.Y(),fields:n},i=p.x(p.S(),r),e.next=5,i;case 5:(l=e.sent)&&(o=p.Y()?p.u(l,n,1):l,p.ub("agentsList",o),t({type:"UPD_KEY_VALUE",kv:{key:"observeChanges",value:p.C()}}));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return{observeChanges:e,_LoadCities:function(e){Object(m.fetchCities)(e,t)},dispatch:t,LoadUA:a,_openMd:function(e,a){var n={zIndex:450};n.Id=e,n.observeResize=!0,n.props={item:a,minHeight:"1vh"},Object(m.OpenWatchDialog)(t,n)}}},g=function(){var e=Object(i.a)(c.a.mark(function e(t){var a,n,r,i,l,o,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=p.O(),n=2===a.ViewTypeMov,p.ub(n?"Incomes":"Expenses",t),r={},i=0,l=p.J("_search_M")||{},o=l.search,p.m(t).map(function(e,a){var n=!1,c=t[e].import&&t[e].import.toString().toLowerCase();if(o){var l=o&&o.toLowerCase()?o.toString().toLowerCase():"",s=t[e].title.toString().toLowerCase(),u=t[e].group&&t[e].group.name&&t[e].group.name.toString().toLowerCase(),m=t[e].date>1,d=s&&s.indexOf(l)>=0&&m,f=u&&u.indexOf(l)>=0&&m,v=c&&c.indexOf(l)>=0&&m;(d||f||v)&&(n=!0)}else n=!0;var b=p.i()||p.N();n&&b&&(r[e]=t[e],i+=t[e].import)}),s=p.lb(r,"date",!1),p.ub(n?"IncomeSort":"ExpenseSort",s),p.ub("balanceM",i),r=null,t=null,Object(m.getDispatch)()({type:"UPD_KEY_VALUE",kv:{key:"observeChanges",value:p.C()}});case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(i.a)(c.a.mark(function e(){var t,a,n,r,i,l,o,s,u,m,d,f;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.O(),a=t.agentId2||p.N(),n=t.filtersMov||{},(new Date).getTime(),r=["id","title","description","import","date","year","month","image",{N:"users",Q:"",f:["id","name","email"]},{N:"group",Q:"",f:["id","name"]}],i=p.Y(),l=t.ViewTypeMov,o=2===l?"getQueryIncomesDetails":"getQueryExpensesDetails",s=12*n.year+(n.month+1),u={query:o,fields:r,arraySerialization:i,params:{userId:a,filterK:"month",filterV:s||11}},m=p.x(p.S(),u),e.next=13,m;case 13:(d=e.sent)&&(f=i?p.u(d,r,1):d,g(f));case 15:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();t.default=Object(u.a)(function(e){var t=_(),a=(t._openMd,t.dispatch,t.LoadUA,function(){var e=Object(s.c)(function(e){return e.observeForms}),t=Object(s.b)();return{_updFormObs:function(e,a){t({type:"UPD_KEY_VALUE",kv:{key:"observeForms",value:p.C()}})},observeForms:e}}()._updFormObs),r=p.O(),c=p.K();r.keys=c;p.J("add_operation");var i=r.usersDetail,u=Object(l.useState)(!1),d=Object(n.a)(u,2),v=d[0],O=d[1],x=Object(l.useState)(null),k=Object(n.a)(x,2),S=k[0],D=k[1],I=Object(l.useState)(!1),F=Object(n.a)(I,2),A=F[0],T=F[1],M=Object(l.useState)(null),L=Object(n.a)(M,2),U=L[0],P=L[1],R=Object(l.useState)(0),V=Object(n.a)(R,2),K=V[0],Y=V[1],q=Object(l.useState)(1),G=Object(n.a)(q,2),H=G[0],W=(G[1],Object(l.useState)(24)),B=Object(n.a)(W,2),J=B[0],Q=B[1],z=Object(l.useState)(""),X=Object(n.a)(z,2),$=X[0],Z=X[1],ee=Object(l.useState)(1),te=Object(n.a)(ee,2),ae=te[0],ne=te[1],re=Object(l.useState)(1),ce=Object(n.a)(re,2),ie=(ce[0],ce[1]),le=r.outerWidth,oe=r.agentId2||r.userProfile,se=p.N();Object(l.useEffect)(function(){if(S!==le&&D(le),U!==se&&P(se),!v){O(!0),p.vb(7),p.i(),setTimeout(function(){return window.scrollTo(0,0)},350),setTimeout(function(){return T(!0)},50);var e=r.filtersMov||{};e.year||(e.year=(new Date).getFullYear()),e.month||(e.month=(new Date).getMonth()),p.ub("filtersMov",e),window.localStorage.setItem("lng","es");var t=p.J("add_operation");t&&t.id||(p.pb("add_operation",{}),a())}});var ue=r.filtersMov||{},me=(p.cb[ue.month],p.H()),de="Android"===me.os||"iPhone"===me.os||r.outerWidth<550,pe=2===H?r.IncomeSort:r.ExpenseSort,fe=2===H?r.Incomes:r.Expenses,ve=j(pe,fe),be=i&&i.filters,he=p.lb(be,"name",1);he.slice(0,J);r.lastReload&&ae!==r.lastReload&&(ne(r.lastReload),g(fe));r.balanceM;var ye={};ye=p.i()&&$&&$.length>0?C(r.usersList,$):C(r.usersList,"");return o.a.createElement(o.a.Fragment,null,o.a.createElement("style",null,"\n        .palette{\n          --base-color: rgb(21, 100, 191,1);\n          --base-color-gradient: 21, 100, 191;\n        }\n\n        "),o.a.createElement("div",{className:" palette formContainer shopping_cart  _movements ".concat(de?"is_mobile":""),style:{opacity:A?1:0}},o.a.createElement("div",{className:"formContainer ",style:{opacity:A?1:0}},A?o.a.createElement("div",{className:"centerListCardProd "},p.i()?o.a.createElement("div",{className:"in_stock_switch _dsplFlx"},"Roulette ",o.a.createElement("div",{className:"in_stock_switch_btn"},o.a.createElement(y,{initvalue:r.roulette,keyCode:43,updChange:function(){return Object(m.UpdateDetails)("AEBMN5JGXGKHTDPSXDBSZDKWEAEA",{roulette:!r.roulette})}}))):null,p.i()?o.a.createElement("div",{className:"paddField address"},o.a.createElement(b,{icon:"more_vert",form:"kjsahfashflkashjaf",field:"agentId",keyCode:49,background:"#f9f9f9",color:"var(--base-color)",placeholder:p.mb(13),OnSelect:function(e){return t=e.id,p.ub("agentId2",t),p.ub("usersDetail",null),Object(m.SubscribeDetailsbyId)(t),void ie(p.C());var t},data:ye,OnChange:function(e){return Z(e)}})):null,p.i()?o.a.createElement("div",{className:"_dsplFlx"},o.a.createElement("div",{className:"flexSpace"}),o.a.createElement("span",{onClick:function(){}},o.a.createElement(f,{theme:"light_blue",title:oe})),o.a.createElement("div",{className:"flexSpace"})):null,o.a.createElement("div",{className:"  headerTtl"},o.a.createElement("div",{className:"pym81b sendBx "},o.a.createElement("div",{className:"_dsplFlx"},p.i()?o.a.createElement("div",{className:"subtotal_cart "},i&&i.port):null,o.a.createElement("div",{className:"flexSpace"}),o.a.createElement("div",{className:"filters_lbs "}," "),o.a.createElement("div",{className:"icon_open ",onClick:function(){return Y(!K)}},o.a.createElement(E,{name:"filter"}))),o.a.createElement("div",{className:"subtotal_cart "},i&&i.email),o.a.createElement("div",{className:"_dsplFlx"},o.a.createElement("div",{className:"in_stock_switch _dsplFlx"},"Active ",o.a.createElement("div",{className:"in_stock_switch_btn"},o.a.createElement(y,{initvalue:i&&i.running,keyCode:73,updChange:function(){return Object(m.UpdateDetails)(oe,{running:!(i&&i.running)})}}))),o.a.createElement("div",{className:"flexSpace"}),o.a.createElement("span",{className:"_dsplFlx ".concat(i&&i.isValidToken?"green_light":"fire_brick"),onClick:function(){return Object(m.UpdateDetails)(oe,{isValidToken:!(i&&i.isValidToken)})}},o.a.createElement("div",{className:"token"},"Token"),o.a.createElement("div",{className:"icon_open "},o.a.createElement(E,{name:i&&i.isValidToken?"success":"alert"})))))),K?o.a.createElement(w,{close:function(){return Y(!1)}}):null,o.a.createElement("div",{className:" sendBx scroll3Wrp "},o.a.createElement("div",{className:"formContainer ",style:{opacity:1===H?1:0}},1===H?o.a.createElement("div",{className:"_dsplFlx space2Around _flxWrp op4oU"},he&&he.map(function(e,t){return o.a.createElement(N,{data:ve[e],ind:t,fV:e,range:J,updRange:function(e){return Q(e)},ItemComponent:o.a.createElement(h,null),tag:"_pend_Mov"})})):null))):null),o.a.createElement("div",{className:"footSpace"})))});var N=function(e){e.data;var t=e.ind,a=e.range,r=e.ItemComponent,c=e.fV,i=Object(l.useState)(!1),s=Object(n.a)(i,2),u=s[0],m=s[1],d=null;return r&&(d=o.a.cloneElement(r,{mvId:c})),o.a.createElement("div",{id:t+"_gpr_"+t,style:{minHeight:"100px"}},u?o.a.createElement("div",{className:""},d):o.a.createElement(v,{scrollhandler:function(n){if(!u){var r=document.getElementById(t+"_gpr_"+t);if(r){var c=p.db(r).top;c>=n-100&&c<=n+window.innerHeight+(n>500?1600:0)&&(m(!0),e.updRange(a+12))}}}}))};function j(e,t){var a={};return e&&e.map(function(e){if(e&&t[e]){var n=t[e].date,r=Math.ceil(new Date(n).getTime()/864e5);a[r]||(a[r]=[]),a[r].push(e)}}),a}var w=function(e){_().dispatch,e.mvId;var t=p.O(),a=(p.N(),Object(l.useState)(!1)),r=Object(n.a)(a,2),c=r[0],i=r[1],s=Object(l.useState)(0),u=Object(n.a)(s,2);u[0],u[1];Object(l.useEffect)(function(){if(!c){i(!0);var e=t.filtersMov||{};e.year||(e.year=(new Date).getFullYear()),e.month||(e.month=(new Date).getMonth()),p.ub("filtersMov",e)}});var d=t.usersDetail,f=d&&d.schedule,v=t.agentId2||t.userProfile;return o.a.createElement("div",{className:"  headerTtl ",style:{maxWidth:"320px"}},o.a.createElement("div",{className:"pym81b sendBx "},o.a.createElement("div",{className:"_dsplFlx"},o.a.createElement("div",{className:"flexSpace"}),o.a.createElement("div",{className:"icon_open ",onClick:function(){"function"===typeof e.close&&e.close()}},o.a.createElement(E,{name:"Xclose",size:18}))),p.i()?o.a.createElement("div",{className:""},o.a.createElement("div",{className:"subtotal_cart "},"Filters"),o.a.createElement("div",{className:"in_stock_switch _dsplFlx"},"AllowGrabbing ",o.a.createElement("div",{className:"in_stock_switch_btn"},o.a.createElement(y,{initvalue:d&&d.allowGrabbing,keyCode:23,updChange:function(){return Object(m.UpdateDetails)(v,{allowGrabbing:!(d&&d.allowGrabbing)})}}))),o.a.createElement("div",{className:"in_stock_switch _dsplFlx"},"Available Notification ",o.a.createElement("div",{className:"in_stock_switch_btn"},o.a.createElement(y,{initvalue:d&&d.availableNotification,keyCode:23,updChange:function(){return Object(m.UpdateDetails)(v,{availableNotification:!(d&&d.availableNotification)})}}))),p.i()?o.a.createElement("div",{className:"in_stock_switch _dsplFlx"},"Is Active ",o.a.createElement("div",{className:"in_stock_switch_btn"},o.a.createElement(y,{initvalue:d&&d.isActive&&d.isActive.active,keyCode:49,updChange:function(){var e=d&&d.isActive;e.active=!e.active,Object(m.UpdateDetails)(v,{isActive:e})}}))):null,o.a.createElement("div",{className:"separator"})):null,o.a.createElement("div",{className:"_dsplFlx",style:{marginTop:"23px"}},o.a.createElement("div",{className:"subtotal_cart "},"Calendario"),o.a.createElement("div",{className:"flexSpace"})),f&&p.m(f).map(function(e,t){return o.a.createElement(x,{d:e,inr:t})})))},x=function(e){_().dispatch;var t=e.d,a=e.inr,r=p.O(),c=Object(l.useState)(!1),i=Object(n.a)(c,2),s=i[0],u=i[1],d=Object(l.useState)(0),f=Object(n.a)(d,2);f[0],f[1];Object(l.useEffect)(function(){if(!s){u(!0);var e=r.filtersMov||{};e.year||(e.year=(new Date).getFullYear()),e.month||(e.month=(new Date).getMonth()),p.ub("filtersMov",e)}});var v=r.usersDetail,b=v&&v.schedule,h=r.agentId2||r.userProfile,g=b[t],O=function(e,a){var n=b;n[t][e]=a,Object(m.UpdateDetails)(h,{schedule:n})};return o.a.createElement("div",null,a>0?o.a.createElement("div",{className:"separator"}):null,o.a.createElement("div",{className:"_dsplFlx "},o.a.createElement("div",{className:"in_stock_switch "},g.dayName),o.a.createElement("div",{className:"flexSpace"}),o.a.createElement("div",{className:"in_stock_switch_btn"},o.a.createElement(y,{initvalue:g&&g.active,keyCode:73,updChange:function(){return O("active",!(g&&g.active))}}))),o.a.createElement("div",{className:"_dsplFlx  spaceAround"},o.a.createElement("div",{className:"payment_edit schedule_edit _dsplFlx"},o.a.createElement("div",{className:"icon_open payIcon ",onClick:function(){return O("start",(g&&g.start)-1)}},o.a.createElement(E,{name:"arrow_down"})),o.a.createElement("div",{className:"hourly_value "},g.start),o.a.createElement("div",{className:"icon_open up payIcon",onClick:function(){return O("start",(g&&g.start)+1)}},o.a.createElement(E,{name:"arrow_down"}))),o.a.createElement("div",{className:"divider"}),o.a.createElement("div",{className:"payment_edit schedule_edit _dsplFlx"},o.a.createElement("div",{className:"icon_open payIcon ",onClick:function(){return O("end",(g&&g.end)-1)}},o.a.createElement(E,{name:"arrow_down"})),o.a.createElement("div",{className:"hourly_value "},g.end),o.a.createElement("div",{className:"icon_open up payIcon",onClick:function(){return O("end",(g&&g.end)+1)}},o.a.createElement(E,{name:"arrow_down"})))))};function C(e,t){var a={};return e&&p.m(e).map(function(n){if(n){var r=e[n].email&&e[n].email.toString().toLowerCase(),c=e[n].name&&e[n].name.toString().toLowerCase();if(t){var i=t.toString().toLowerCase();(c&&c.indexOf(i)>=0||r&&r.indexOf(i)>=0)&&(a[n]={id:n,name:e[n].email})}else a[n]={id:n,name:e[n].email}}}),a}},91:function(e,t,a){"use strict";var n=a(2),r=a.n(n),c=a(7),i=a.n(c),l=a(69),o=a(21),s=a.n(o),u=a(36),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},f=function(e){function t(){var a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,c=Array(r),i=0;i<r;i++)c[i]=arguments[i];return a=n=d(this,e.call.apply(e,[this].concat(c))),n.handleClick=function(e){if(n.props.onClick&&n.props.onClick(e),!e.defaultPrevented&&0===e.button&&!n.props.target&&!p(e)){e.preventDefault();var t=n.context.router.history,a=n.props,r=a.replace,c=a.to;r?t.replace(c):t.push(c)}},d(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),a=e.innerRef,n=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["replace","to","innerRef"]);s()(this.context.router,"You should not use <Link> outside a <Router>"),s()(void 0!==t,'You must specify the "to" property');var c=this.context.router.history,i="string"===typeof t?Object(u.b)(t,null,null,c.location):t,l=c.createHref(i);return r.a.createElement("a",m({},n,{onClick:this.handleClick,href:l,ref:a}))},t}(r.a.Component);f.propTypes={onClick:i.a.func,target:i.a.string,replace:i.a.bool,to:i.a.oneOfType([i.a.string,i.a.object]).isRequired,innerRef:i.a.oneOfType([i.a.string,i.a.func])},f.defaultProps={replace:!1},f.contextTypes={router:i.a.shape({history:i.a.shape({push:i.a.func.isRequired,replace:i.a.func.isRequired,createHref:i.a.func.isRequired}).isRequired}).isRequired};var v=f,b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var y=function(e){var t=e.to,a=e.exact,n=e.strict,c=e.location,i=e.activeClassName,o=e.className,s=e.activeStyle,u=e.style,m=e.isActive,d=e["aria-current"],p=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["to","exact","strict","location","activeClassName","className","activeStyle","style","isActive","aria-current"]),f="object"===("undefined"===typeof t?"undefined":h(t))?t.pathname:t,y=f&&f.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1");return r.a.createElement(l.a,{path:y,exact:a,strict:n,location:c,children:function(e){var a=e.location,n=e.match,c=!!(m?m(n,a):n);return r.a.createElement(v,b({to:t,className:c?[o,i].filter(function(e){return e}).join(" "):o,style:c?b({},u,s):u,"aria-current":c&&d||null},p))}})};y.propTypes={to:v.propTypes.to,exact:i.a.bool,strict:i.a.bool,location:i.a.object,activeClassName:i.a.string,className:i.a.string,activeStyle:i.a.object,style:i.a.object,isActive:i.a.func,"aria-current":i.a.oneOf(["page","step","location","date","time","true"])},y.defaultProps={activeClassName:"active","aria-current":"page"};t.a=y}}]);
//# sourceMappingURL=15.33eeb17d.chunk.js.map