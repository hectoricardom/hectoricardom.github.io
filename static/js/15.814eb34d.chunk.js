(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{110:function(e,t,a){"use strict";a.r(t),a.d(t,"calcMovExpInc",function(){return _}),a.d(t,"loadGastos",function(){return g}),a.d(t,"groupbyTab",function(){return N}),a.d(t,"filterbyUser",function(){return x});var n=a(20),r=a(3),c=a.n(r),i=a(6),o=a(2),l=a.n(o),s=a(18),u=a(90),m=(a(91),a(19)),d=a(8),p=a(0),f=(a(45),p.a(),p.o()),v=(p.e(),p.g()),b=(p.c(),p.n(),Object(d.a)(function(){return a.e(1).then(a.bind(null,92))}),Object(d.a)(function(){return a.e(34).then(a.bind(null,98))})),h=(Object(d.a)(function(){return a.e(36).then(a.bind(null,99))}),p.d()),y=p.f(),E=function(){var e=Object(s.c)(function(e){return e.observeChanges}),t=Object(s.b)(),a=function(){var e=Object(i.a)(c.a.mark(function e(a){var n,r,i,o,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=["id","name","email","isqvmAgent","isAdmin"],r={query:"getQueryUsersDetails",params:{userId:p.Q()},Collection:"Users",arraySerialization:p.Y(),fields:n},i=p.x(p.S(),r),e.next=5,i;case 5:(o=e.sent)&&(l=p.Y()?p.u(o,n,1):o,p.ub("agentsList",l),t({type:"UPD_KEY_VALUE",kv:{key:"observeChanges",value:p.C()}}));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return{observeChanges:e,_LoadCities:function(e){Object(m.fetchCities)(e,t)},dispatch:t,LoadUA:a,_openMd:function(e,a){var n={zIndex:450};n.Id=e,n.observeResize=!0,n.props={item:a,minHeight:"1vh"},Object(m.OpenWatchDialog)(t,n)}}},_=function(){var e=Object(i.a)(c.a.mark(function e(t){var a,n,r,i,o,l,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=p.O(),n=2===a.ViewTypeMov,p.ub(n?"Incomes":"Expenses",t),r={},i=0,o=p.J("_search_M")||{},l=o.search,p.m(t).map(function(e,a){var n=!1,c=t[e].import&&t[e].import.toString().toLowerCase();if(l){var o=l&&l.toLowerCase()?l.toString().toLowerCase():"",s=t[e].title.toString().toLowerCase(),u=t[e].group&&t[e].group.name&&t[e].group.name.toString().toLowerCase(),m=t[e].date>1,d=s&&s.indexOf(o)>=0&&m,f=u&&u.indexOf(o)>=0&&m,v=c&&c.indexOf(o)>=0&&m;(d||f||v)&&(n=!0)}else n=!0;var b=p.i()||p.N();n&&b&&(r[e]=t[e],i+=t[e].import)}),s=p.lb(r,"date",!1),p.ub(n?"IncomeSort":"ExpenseSort",s),p.ub("balanceM",i),r=null,t=null,Object(m.getDispatch)()({type:"UPD_KEY_VALUE",kv:{key:"observeChanges",value:p.C()}});case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(i.a)(c.a.mark(function e(){var t,a,n,r,i,o,l,s,u,m,d,f;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.O(),a=t.agentId2||p.N(),n=t.filtersMov||{},(new Date).getTime(),r=["id","title","description","import","date","year","month","image",{N:"users",Q:"",f:["id","name","email"]},{N:"group",Q:"",f:["id","name"]}],i=p.Y(),o=t.ViewTypeMov,l=2===o?"getQueryIncomesDetails":"getQueryExpensesDetails",s=12*n.year+(n.month+1),u={query:l,fields:r,arraySerialization:i,params:{userId:a,filterK:"month",filterV:s||11}},m=p.x(p.S(),u),e.next=13,m;case 13:(d=e.sent)&&(f=i?p.u(d,r,1):d,_(f));case 15:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();t.default=Object(u.a)(function(e){var t=E(),a=(t._openMd,t.dispatch,t.LoadUA,function(){var e=Object(s.c)(function(e){return e.observeForms}),t=Object(s.b)();return{_updFormObs:function(e,a){t({type:"UPD_KEY_VALUE",kv:{key:"observeForms",value:p.C()}})},observeForms:e}}()._updFormObs),r=p.O(),c=p.K();r.keys=c;p.J("add_operation");var i=r.usersDetail,u=Object(o.useState)(!1),d=Object(n.a)(u,2),f=d[0],g=d[1],w=Object(o.useState)(null),C=Object(n.a)(w,2),k=C[0],S=C[1],D=Object(o.useState)(!1),I=Object(n.a)(D,2),F=I[0],A=I[1],T=Object(o.useState)(null),M=Object(n.a)(T,2),L=M[0],U=M[1],P=Object(o.useState)(0),R=Object(n.a)(P,2),V=R[0],K=R[1],Y=Object(o.useState)(1),q=Object(n.a)(Y,2),B=q[0],G=(q[1],Object(o.useState)(24)),H=Object(n.a)(G,2),W=H[0],J=H[1],Q=Object(o.useState)(""),z=Object(n.a)(Q,2),X=z[0],$=z[1],Z=Object(o.useState)(1),ee=Object(n.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(o.useState)(1),re=Object(n.a)(ne,2),ce=(re[0],re[1]),ie=r.outerWidth,oe=r.agentId2||r.userProfile,le=p.N();Object(o.useEffect)(function(){if(k!==ie&&S(ie),L!==le&&U(le),!f){g(!0),p.vb(7),p.i(),setTimeout(function(){return window.scrollTo(0,0)},350),setTimeout(function(){return A(!0)},50);var e=r.filtersMov||{};e.year||(e.year=(new Date).getFullYear()),e.month||(e.month=(new Date).getMonth()),p.ub("filtersMov",e),window.localStorage.setItem("lng","es");var t=p.J("add_operation");t&&t.id||(p.pb("add_operation",{}),a())}});var se=r.filtersMov||{},ue=(p.cb[se.month],p.H()),me="Android"===ue.os||"iPhone"===ue.os||r.outerWidth<550,de=2===B?r.IncomeSort:r.ExpenseSort,pe=2===B?r.Incomes:r.Expenses,fe=N(de,pe),ve=i&&i.filters,be=p.lb(ve,"name",1);be.slice(0,W);r.lastReload&&te!==r.lastReload&&(ae(r.lastReload),_(pe));r.balanceM;var he={};he=p.i()&&X&&X.length>0?x(r.usersList,X):x(r.usersList,"");return l.a.createElement(l.a.Fragment,null,l.a.createElement("style",null,"\n        .palette{\n          --base-color: rgb(21, 100, 191,1);\n          --base-color-gradient: 21, 100, 191;\n\n         \n          --checkBox--button--color:rgb(255,120,23);\n          --checkBox--button--Active--color: rgb(255,120,23);\n         \n        }\n\n        "),l.a.createElement("div",{className:" palette formContainer shopping_cart  _movements ".concat(me?"is_mobile":""),style:{opacity:F?1:0}},l.a.createElement("div",{className:"formContainer ",style:{opacity:F?1:0}},F?l.a.createElement("div",{className:"centerListCardProd "},p.i()?l.a.createElement("div",{className:"in_stock_switch _dsplFlx"},"Roulette ",l.a.createElement("div",{className:"in_stock_switch_btn"},l.a.createElement(h,{initvalue:r.roulette,keyCode:43,updChange:function(){return Object(m.UpdateDetails)("AEBMN5JGXGKHTDPSXDBSZDKWEAEA",{roulette:!r.roulette})}}))):null,p.i()?l.a.createElement("div",{className:"paddField address"},l.a.createElement(v,{icon:"more_vert",form:"kjsahfashflkashjaf",field:"agentId",keyCode:49,background:"#f9f9f9",color:"var(--base-color)",placeholder:p.mb(13),OnSelect:function(e){return t=e.id,p.ub("agentId2",t),p.ub("usersDetail",null),Object(m.SubscribeDetailsbyId)(t),void ce(p.C());var t},data:he,OnChange:function(e){return $(e)}})):null,p.i()?l.a.createElement("div",{className:" _dsplFlx"},l.a.createElement("div",{className:"flexSpace"}),l.a.createElement("div",{className:"_idLbl "},oe),l.a.createElement("div",{className:"flexSpace"})):null,l.a.createElement("div",{className:"  headerTtl"},l.a.createElement("div",{className:"pym81b sendBx "},l.a.createElement("div",{className:"_dsplFlx"},p.i()?l.a.createElement("div",{className:"subtotal_cart "},i&&i.port):null,l.a.createElement("div",{className:"flexSpace"}),l.a.createElement("div",{className:"filters_lbs "}," "),l.a.createElement("div",{className:"icon_open ",onClick:function(){return K(!V)}},l.a.createElement(y,{name:"filter"}))),l.a.createElement("div",{className:"subtotal_cart "},i&&i.email),l.a.createElement("div",{className:"_dsplFlx"},l.a.createElement("div",{className:"in_stock_switch _dsplFlx"},"Active ",l.a.createElement("div",{className:"in_stock_switch_btn"},l.a.createElement(h,{initvalue:i&&i.running,keyCode:73,updChange:function(){return Object(m.UpdateDetails)(oe,{running:!(i&&i.running)})}}))),l.a.createElement("div",{className:"flexSpace"}),l.a.createElement("span",{className:"_dsplFlx ".concat(i&&i.isValidToken?"green_light":"fire_brick"),onClick:function(){return Object(m.UpdateDetails)(oe,{isValidToken:!(i&&i.isValidToken)})}},l.a.createElement("div",{className:"token"},"Token"),l.a.createElement("div",{className:"icon_open "},l.a.createElement(y,{name:i&&i.isValidToken?"success":"alert"})))))),V?l.a.createElement(j,{close:function(){return K(!1)}}):null,l.a.createElement("div",{className:" sendBx scroll3Wrp "},l.a.createElement("div",{className:"formContainer ",style:{opacity:1===B?1:0}},1===B?l.a.createElement("div",{className:"_dsplFlx space2Around _flxWrp op4oU"},be&&be.map(function(e,t){return l.a.createElement(O,{data:fe[e],ind:t,fV:e,range:W,updRange:function(e){return J(e)},ItemComponent:l.a.createElement(b,null),tag:"_pend_Mov"})})):null))):null),l.a.createElement("div",{className:"footSpace"})))});var O=function(e){e.data;var t=e.ind,a=e.range,r=e.ItemComponent,c=e.fV,i=Object(o.useState)(!1),s=Object(n.a)(i,2),u=s[0],m=s[1],d=null;return r&&(d=l.a.cloneElement(r,{mvId:c})),l.a.createElement("div",{id:t+"_gpr_"+t,style:{minHeight:"100px"}},u?l.a.createElement("div",{className:""},d):l.a.createElement(f,{scrollhandler:function(n){if(!u){var r=document.getElementById(t+"_gpr_"+t);if(r){var c=p.db(r).top;c>=n-100&&c<=n+window.innerHeight+(n>500?1600:0)&&(m(!0),e.updRange(a+12))}}}}))};function N(e,t){var a={};return e&&e.map(function(e){if(e&&t[e]){var n=t[e].date,r=Math.ceil(new Date(n).getTime()/864e5);a[r]||(a[r]=[]),a[r].push(e)}}),a}var j=function(e){E().dispatch,e.mvId;var t=p.O(),a=(p.N(),Object(o.useState)(!1)),r=Object(n.a)(a,2),c=r[0],i=r[1],s=Object(o.useState)(0),u=Object(n.a)(s,2);u[0],u[1];Object(o.useEffect)(function(){if(!c){i(!0);var e=t.filtersMov||{};e.year||(e.year=(new Date).getFullYear()),e.month||(e.month=(new Date).getMonth()),p.ub("filtersMov",e)}});var d=t.usersDetail,f=d&&d.schedule,v=t.agentId2||t.userProfile;return l.a.createElement("div",{className:"  headerTtl ",style:{maxWidth:"320px"}},l.a.createElement("div",{className:"pym81b sendBx "},l.a.createElement("div",{className:"_dsplFlx"},l.a.createElement("div",{className:"flexSpace"}),l.a.createElement("div",{className:"icon_open ",onClick:function(){"function"===typeof e.close&&e.close()}},l.a.createElement(y,{name:"Xclose",size:18}))),p.i()?l.a.createElement("div",{className:""},l.a.createElement("div",{className:"subtotal_cart "},"Filters"),l.a.createElement("div",{className:"in_stock_switch _dsplFlx"},"AllowGrabbing ",l.a.createElement("div",{className:"in_stock_switch_btn"},l.a.createElement(h,{initvalue:d&&d.allowGrabbing,keyCode:23,updChange:function(){return Object(m.UpdateDetails)(v,{allowGrabbing:!(d&&d.allowGrabbing)})}}))),l.a.createElement("div",{className:"in_stock_switch _dsplFlx"},"Available Notification ",l.a.createElement("div",{className:"in_stock_switch_btn"},l.a.createElement(h,{initvalue:d&&d.availableNotification,keyCode:23,updChange:function(){return Object(m.UpdateDetails)(v,{availableNotification:!(d&&d.availableNotification)})}}))),p.i()?l.a.createElement("div",{className:"in_stock_switch _dsplFlx"},"Is Active ",l.a.createElement("div",{className:"in_stock_switch_btn"},l.a.createElement(h,{initvalue:d&&d.isActive&&d.isActive.active,keyCode:49,updChange:function(){var e=d&&d.isActive;e.active=!e.active,Object(m.UpdateDetails)(v,{isActive:e})}}))):null,l.a.createElement("div",{className:"separator"})):null,l.a.createElement("div",{className:"_dsplFlx",style:{marginTop:"23px"}},l.a.createElement("div",{className:"subtotal_cart "},"Calendario"),l.a.createElement("div",{className:"flexSpace"})),f&&p.m(f).map(function(e,t){return l.a.createElement(w,{d:e,inr:t})})))},w=function(e){E().dispatch;var t=e.d,a=e.inr,r=p.O(),c=Object(o.useState)(!1),i=Object(n.a)(c,2),s=i[0],u=i[1],d=Object(o.useState)(0),f=Object(n.a)(d,2);f[0],f[1];Object(o.useEffect)(function(){if(!s){u(!0);var e=r.filtersMov||{};e.year||(e.year=(new Date).getFullYear()),e.month||(e.month=(new Date).getMonth()),p.ub("filtersMov",e)}});var v=r.usersDetail,b=v&&v.schedule,_=r.agentId2||r.userProfile,g=b[t],O=function(e,a){var n=b;n[t][e]=a,Object(m.UpdateDetails)(_,{schedule:n})};return l.a.createElement("div",null,a>0?l.a.createElement("div",{className:"separator"}):null,l.a.createElement("div",{className:"_dsplFlx "},l.a.createElement("div",{className:"in_stock_switch "},g.dayName),l.a.createElement("div",{className:"flexSpace"}),l.a.createElement("div",{className:"in_stock_switch_btn"},l.a.createElement(h,{initvalue:g&&g.active,keyCode:73,updChange:function(){return O("active",!(g&&g.active))}}))),l.a.createElement("div",{className:"_dsplFlx  spaceAround"},l.a.createElement("div",{className:"payment_edit schedule_edit _dsplFlx"},l.a.createElement("div",{className:"icon_open payIcon ",onClick:function(){return O("start",(g&&g.start)-1)}},l.a.createElement(y,{name:"arrow_down"})),l.a.createElement("div",{className:"hourly_value "},g.start),l.a.createElement("div",{className:"icon_open up payIcon",onClick:function(){return O("start",(g&&g.start)+1)}},l.a.createElement(y,{name:"arrow_down"}))),l.a.createElement("div",{className:"divider"}),l.a.createElement("div",{className:"payment_edit schedule_edit _dsplFlx"},l.a.createElement("div",{className:"icon_open payIcon ",onClick:function(){return O("end",(g&&g.end)-1)}},l.a.createElement(y,{name:"arrow_down"})),l.a.createElement("div",{className:"hourly_value "},g.end),l.a.createElement("div",{className:"icon_open up payIcon",onClick:function(){return O("end",(g&&g.end)+1)}},l.a.createElement(y,{name:"arrow_down"})))))};function x(e,t){var a={};return e&&p.m(e).map(function(n){if(n){var r=e[n].email&&e[n].email.toString().toLowerCase(),c=e[n].name&&e[n].name.toString().toLowerCase();if(t){var i=t.toString().toLowerCase();(c&&c.indexOf(i)>=0||r&&r.indexOf(i)>=0)&&(a[n]={id:n,name:e[n].email})}else a[n]={id:n,name:e[n].email}}}),a}},91:function(e,t,a){"use strict";var n=a(2),r=a.n(n),c=a(7),i=a.n(c),o=a(69),l=a(21),s=a.n(l),u=a(36),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},f=function(e){function t(){var a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,c=Array(r),i=0;i<r;i++)c[i]=arguments[i];return a=n=d(this,e.call.apply(e,[this].concat(c))),n.handleClick=function(e){if(n.props.onClick&&n.props.onClick(e),!e.defaultPrevented&&0===e.button&&!n.props.target&&!p(e)){e.preventDefault();var t=n.context.router.history,a=n.props,r=a.replace,c=a.to;r?t.replace(c):t.push(c)}},d(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),a=e.innerRef,n=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["replace","to","innerRef"]);s()(this.context.router,"You should not use <Link> outside a <Router>"),s()(void 0!==t,'You must specify the "to" property');var c=this.context.router.history,i="string"===typeof t?Object(u.b)(t,null,null,c.location):t,o=c.createHref(i);return r.a.createElement("a",m({},n,{onClick:this.handleClick,href:o,ref:a}))},t}(r.a.Component);f.propTypes={onClick:i.a.func,target:i.a.string,replace:i.a.bool,to:i.a.oneOfType([i.a.string,i.a.object]).isRequired,innerRef:i.a.oneOfType([i.a.string,i.a.func])},f.defaultProps={replace:!1},f.contextTypes={router:i.a.shape({history:i.a.shape({push:i.a.func.isRequired,replace:i.a.func.isRequired,createHref:i.a.func.isRequired}).isRequired}).isRequired};var v=f,b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var y=function(e){var t=e.to,a=e.exact,n=e.strict,c=e.location,i=e.activeClassName,l=e.className,s=e.activeStyle,u=e.style,m=e.isActive,d=e["aria-current"],p=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["to","exact","strict","location","activeClassName","className","activeStyle","style","isActive","aria-current"]),f="object"===("undefined"===typeof t?"undefined":h(t))?t.pathname:t,y=f&&f.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1");return r.a.createElement(o.a,{path:y,exact:a,strict:n,location:c,children:function(e){var a=e.location,n=e.match,c=!!(m?m(n,a):n);return r.a.createElement(v,b({to:t,className:c?[l,i].filter(function(e){return e}).join(" "):l,style:c?b({},u,s):u,"aria-current":c&&d||null},p))}})};y.propTypes={to:v.propTypes.to,exact:i.a.bool,strict:i.a.bool,location:i.a.object,activeClassName:i.a.string,className:i.a.string,activeStyle:i.a.object,style:i.a.object,isActive:i.a.func,"aria-current":i.a.oneOf(["page","step","location","date","time","true"])},y.defaultProps={activeClassName:"active","aria-current":"page"};t.a=y}}]);
//# sourceMappingURL=15.814eb34d.chunk.js.map