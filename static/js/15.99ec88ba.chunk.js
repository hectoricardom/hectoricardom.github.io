(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{110:function(e,t,a){"use strict";a.r(t),a.d(t,"calcMovExpInc",function(){return O}),a.d(t,"loadGastos",function(){return _}),a.d(t,"groupbyTab",function(){return N}),a.d(t,"filterbyUser",function(){return C});var n=a(20),r=a(3),c=a.n(r),o=a(6),i=a(2),l=a.n(i),s=a(18),u=a(90),m=(a(91),a(19)),d=a(8),p=a(0),f=(a(45),p.a()),v=p.o(),b=(p.e(),p.g()),y=(p.c(),p.n(),Object(d.a)(function(){return a.e(1).then(a.bind(null,92))}),Object(d.a)(function(){return a.e(34).then(a.bind(null,98))})),h=(Object(d.a)(function(){return a.e(36).then(a.bind(null,99))}),p.d()),E=p.f(),g=function(){var e=Object(s.c)(function(e){return e.observeChanges}),t=Object(s.b)(),a=function(){var e=Object(o.a)(c.a.mark(function e(a){var n,r,o,i,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=["id","name","email","isqvmAgent","isAdmin"],r={query:"getQueryUsersDetails",params:{userId:p.Q()},Collection:"Users",arraySerialization:p.Y(),fields:n},o=p.x(p.S(),r),e.next=5,o;case 5:(i=e.sent)&&(l=p.Y()?p.u(i,n,1):i,p.ub("agentsList",l),t({type:"UPD_KEY_VALUE",kv:{key:"observeChanges",value:p.C()}}));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return{observeChanges:e,_LoadCities:function(e){Object(m.fetchCities)(e,t)},dispatch:t,LoadUA:a,_openMd:function(e,a){var n={zIndex:450};n.Id=e,n.observeResize=!0,n.props={item:a,minHeight:"1vh"},Object(m.OpenWatchDialog)(t,n)}}},O=function(){var e=Object(o.a)(c.a.mark(function e(t){var a,n,r,o,i,l,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=p.O(),n=2===a.ViewTypeMov,p.ub(n?"Incomes":"Expenses",t),r={},o=0,i=p.J("_search_M")||{},l=i.search,p.m(t).map(function(e,a){var n=!1,c=t[e].import&&t[e].import.toString().toLowerCase();if(l){var i=l&&l.toLowerCase()?l.toString().toLowerCase():"",s=t[e].title.toString().toLowerCase(),u=t[e].group&&t[e].group.name&&t[e].group.name.toString().toLowerCase(),m=t[e].date>1,d=s&&s.indexOf(i)>=0&&m,f=u&&u.indexOf(i)>=0&&m,v=c&&c.indexOf(i)>=0&&m;(d||f||v)&&(n=!0)}else n=!0;var b=p.i()||p.N();n&&b&&(r[e]=t[e],o+=t[e].import)}),s=p.lb(r,"date",!1),p.ub(n?"IncomeSort":"ExpenseSort",s),p.ub("balanceM",o),r=null,t=null,Object(m.getDispatch)()({type:"UPD_KEY_VALUE",kv:{key:"observeChanges",value:p.C()}});case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(o.a)(c.a.mark(function e(){var t,a,n,r,o,i,l,s,u,m,d,f;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.O(),a=t.agentId2||p.N(),n=t.filtersMov||{},(new Date).getTime(),r=["id","title","description","import","date","year","month","image",{N:"users",Q:"",f:["id","name","email"]},{N:"group",Q:"",f:["id","name"]}],o=p.Y(),i=t.ViewTypeMov,l=2===i?"getQueryIncomesDetails":"getQueryExpensesDetails",s=12*n.year+(n.month+1),u={query:l,fields:r,arraySerialization:o,params:{userId:a,filterK:"month",filterV:s||11}},m=p.x(p.S(),u),e.next=13,m;case 13:(d=e.sent)&&(f=o?p.u(d,r,1):d,O(f));case 15:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();t.default=Object(u.a)(function(e){var t=g(),a=(t._openMd,t.dispatch,t.LoadUA,function(){var e=Object(s.c)(function(e){return e.observeForms}),t=Object(s.b)();return{_updFormObs:function(e,a){t({type:"UPD_KEY_VALUE",kv:{key:"observeForms",value:p.C()}})},observeForms:e}}()._updFormObs),r=p.O(),c=p.K();r.keys=c;p.J("add_operation");var o=r.usersDetail,u=Object(i.useState)(!1),d=Object(n.a)(u,2),v=d[0],_=d[1],x=Object(i.useState)(null),S=Object(n.a)(x,2),k=S[0],I=S[1],D=Object(i.useState)(!1),T=Object(n.a)(D,2),F=T[0],M=T[1],L=Object(i.useState)(null),P=Object(n.a)(L,2),R=P[0],A=P[1],U=Object(i.useState)(0),V=Object(n.a)(U,2),Y=V[0],q=V[1],K=Object(i.useState)(1),H=Object(n.a)(K,2),Q=H[0],W=(H[1],Object(i.useState)(24)),z=Object(n.a)(W,2),G=z[0],J=z[1],B=Object(i.useState)(""),$=Object(n.a)(B,2),X=$[0],Z=$[1],ee=Object(i.useState)(1),te=Object(n.a)(ee,2),ae=te[0],ne=te[1],re=Object(i.useState)(1),ce=Object(n.a)(re,2),oe=(ce[0],ce[1]),ie=r.outerWidth,le=r.agentId2||r.userProfile,se=p.N();Object(i.useEffect)(function(){if(k!==ie&&I(ie),R!==se&&A(se),!v){_(!0),p.vb(7),p.i(),setTimeout(function(){return window.scrollTo(0,0)},350),setTimeout(function(){return M(!0)},50);var e=r.filtersMov||{};e.year||(e.year=(new Date).getFullYear()),e.month||(e.month=(new Date).getMonth()),p.ub("filtersMov",e),window.localStorage.setItem("lng","es");var t=p.J("add_operation");t&&t.id||(p.pb("add_operation",{}),a())}});var ue=r.filtersMov||{},me=(p.cb[ue.month],p.H()),de="Android"===me.os||"iPhone"===me.os||r.outerWidth<550,pe=2===Q?r.IncomeSort:r.ExpenseSort,fe=2===Q?r.Incomes:r.Expenses,ve=N(pe,fe),be=o&&o.filters,ye=p.lb(be,"name",1);ye.slice(0,G);r.lastReload&&ae!==r.lastReload&&(ne(r.lastReload),O(fe));r.balanceM;var he={};he=p.i()&&X&&X.length>0?C(r.usersList,X):C(r.usersList,"");return l.a.createElement(l.a.Fragment,null,l.a.createElement("style",null,"\n        .palette{\n          --base-color: rgb(21, 100, 191,1);\n          --base-color-gradient: 21, 100, 191;\n        }\n\n        "),l.a.createElement("div",{className:" palette formContainer shopping_cart  _movements ".concat(de?"is_mobile":""),style:{opacity:F?1:0}},l.a.createElement("div",{className:"formContainer ",style:{opacity:F?1:0}},F?l.a.createElement("div",{className:"centerListCardProd "},p.i()?l.a.createElement("div",{className:"paddField address"},l.a.createElement(b,{icon:"more_vert",form:"kjsahfashflkashjaf",field:"agentId",keyCode:49,background:"#f9f9f9",color:"var(--base-color)",placeholder:p.mb(13),OnSelect:function(e){return t=e.id,p.ub("agentId2",t),p.ub("usersDetail",null),Object(m.SubscribeDetailsbyId)(t),void oe(p.C());var t},data:he,OnChange:function(e){return Z(e)}})):null,p.i()?l.a.createElement("div",{className:"_dsplFlx"},l.a.createElement("div",{className:"flexSpace"}),l.a.createElement("span",{onClick:function(){}},l.a.createElement(f,{theme:"light_blue",title:le})),l.a.createElement("div",{className:"flexSpace"})):null,l.a.createElement("div",{className:"  headerTtl"},l.a.createElement("div",{className:"pym81b sendBx "},l.a.createElement("div",{className:"_dsplFlx"},p.i()?l.a.createElement("div",{className:"subtotal_cart "},o&&o.port):null,l.a.createElement("div",{className:"flexSpace"}),l.a.createElement("div",{className:"filters_lbs "}," "),l.a.createElement("div",{className:"icon_open ",onClick:function(){return q(1)}},l.a.createElement(E,{name:"filter"}))),l.a.createElement("div",{className:"subtotal_cart "},o&&o.email),l.a.createElement("div",{className:"_dsplFlx"},l.a.createElement("div",{className:"flexSpace"}),l.a.createElement("span",{className:"_dsplFlx ".concat(o&&o.isValidToken?"green_light":"fire_brick"),onClick:function(){return Object(m.UpdateDetails)(le,{isValidToken:!(o&&o.isValidToken)})}},l.a.createElement("div",{className:"token"},"Token"),l.a.createElement("div",{className:"icon_open "},l.a.createElement(E,{name:o&&o.isValidToken?"success":"alert"})))),l.a.createElement("div",{className:"in_stock_switch _dsplFlx"},"Active ",l.a.createElement("div",{className:"in_stock_switch_btn"},l.a.createElement(h,{initvalue:o&&o.running,keyCode:73,updChange:function(){return Object(m.UpdateDetails)(le,{running:!(o&&o.running)})}}))))),Y?l.a.createElement(w,{close:function(){return q(!1)}}):null,l.a.createElement("div",{className:" sendBx scroll3Wrp "},l.a.createElement("div",{className:"formContainer ",style:{opacity:1===Q?1:0}},1===Q?l.a.createElement("div",{className:"_dsplFlx space2Around _flxWrp op4oU"},ye&&ye.map(function(e,t){return l.a.createElement(j,{data:ve[e],ind:t,fV:e,range:G,updRange:function(e){return J(e)},ItemComponent:l.a.createElement(y,null),tag:"_pend_Mov"})})):null))):null),l.a.createElement("div",{className:"footSpace"})))});var j=function(e){e.data;var t=e.ind,a=e.range,r=e.ItemComponent,c=e.fV,o=Object(i.useState)(!1),s=Object(n.a)(o,2),u=s[0],m=s[1],d=null;return r&&(d=l.a.cloneElement(r,{mvId:c})),l.a.createElement("div",{id:t+"_gpr_"+t,style:{minHeight:"100px"}},u?l.a.createElement("div",{className:""},d):l.a.createElement(v,{scrollhandler:function(n){if(!u){var r=document.getElementById(t+"_gpr_"+t);if(r){var c=p.db(r).top;c>=n-100&&c<=n+window.innerHeight+(n>500?1600:0)&&(m(!0),e.updRange(a+12))}}}}))};function N(e,t){var a={};return e&&e.map(function(e){if(e&&t[e]){var n=t[e].date,r=Math.ceil(new Date(n).getTime()/864e5);a[r]||(a[r]=[]),a[r].push(e)}}),a}var w=function(e){g().dispatch,e.mvId;var t=p.O(),a=(p.N(),Object(i.useState)(!1)),r=Object(n.a)(a,2),c=r[0],o=r[1],s=Object(i.useState)(0),u=Object(n.a)(s,2);u[0],u[1];Object(i.useEffect)(function(){if(!c){o(!0);var e=t.filtersMov||{};e.year||(e.year=(new Date).getFullYear()),e.month||(e.month=(new Date).getMonth()),p.ub("filtersMov",e)}});var d=t.usersDetail,f=d&&d.schedule,v=t.agentId2||t.userProfile;return l.a.createElement("div",{className:"  headerTtl ",style:{maxWidth:"320px"}},l.a.createElement("div",{className:"pym81b sendBx "},p.i()?l.a.createElement("div",{className:""},l.a.createElement("div",{className:"subtotal_cart "},"Filters"),l.a.createElement("div",{className:"in_stock_switch _dsplFlx"},"AllowGrabbing ",l.a.createElement("div",{className:"in_stock_switch_btn"},l.a.createElement(h,{initvalue:d&&d.allowGrabbing,keyCode:23,updChange:function(){return Object(m.UpdateDetails)(v,{allowGrabbing:!(d&&d.allowGrabbing)})}}))),l.a.createElement("div",{className:"separator"})):null,l.a.createElement("div",{className:"_dsplFlx",style:{marginTop:"23px"}},l.a.createElement("div",{className:"subtotal_cart "},"Calendario"),l.a.createElement("div",{className:"flexSpace"}),l.a.createElement("div",{className:"icon_open ",onClick:function(){"function"===typeof e.close&&e.close()}},l.a.createElement(E,{name:"Xclose",size:18}))),f&&p.m(f).map(function(e,t){return l.a.createElement(x,{d:e,inr:t})})))},x=function(e){g().dispatch;var t=e.d,a=e.inr,r=p.O(),c=Object(i.useState)(!1),o=Object(n.a)(c,2),s=o[0],u=o[1],d=Object(i.useState)(0),f=Object(n.a)(d,2);f[0],f[1];Object(i.useEffect)(function(){if(!s){u(!0);var e=r.filtersMov||{};e.year||(e.year=(new Date).getFullYear()),e.month||(e.month=(new Date).getMonth()),p.ub("filtersMov",e)}});var v=r.usersDetail,b=v&&v.schedule,y=r.agentId2||r.userProfile,O=b[t],_=function(e,a){var n=b;n[t][e]=a,Object(m.UpdateDetails)(y,{schedule:n})};return l.a.createElement("div",null,a>0?l.a.createElement("div",{className:"separator"}):null,l.a.createElement("div",{className:"_dsplFlx "},l.a.createElement("div",{className:"in_stock_switch "},O.dayName),l.a.createElement("div",{className:"flexSpace"}),l.a.createElement("div",{className:"in_stock_switch_btn"},l.a.createElement(h,{initvalue:O&&O.active,keyCode:73,updChange:function(){return _("active",!(O&&O.active))}}))),l.a.createElement("div",{className:"_dsplFlx  spaceAround"},l.a.createElement("div",{className:"payment_edit schedule_edit _dsplFlx"},l.a.createElement("div",{className:"icon_open payIcon ",onClick:function(){return _("start",(O&&O.start)-1)}},l.a.createElement(E,{name:"arrow_down"})),l.a.createElement("div",{className:"hourly_value "},O.start),l.a.createElement("div",{className:"icon_open up payIcon",onClick:function(){return _("start",(O&&O.start)+1)}},l.a.createElement(E,{name:"arrow_down"}))),l.a.createElement("div",{className:"divider"}),l.a.createElement("div",{className:"payment_edit schedule_edit _dsplFlx"},l.a.createElement("div",{className:"icon_open payIcon ",onClick:function(){return _("end",(O&&O.end)-1)}},l.a.createElement(E,{name:"arrow_down"})),l.a.createElement("div",{className:"hourly_value "},O.end),l.a.createElement("div",{className:"icon_open up payIcon",onClick:function(){return _("end",(O&&O.end)+1)}},l.a.createElement(E,{name:"arrow_down"})))))};function C(e,t){var a={};return e&&p.m(e).map(function(n){if(n){var r=e[n].email&&e[n].email.toString().toLowerCase(),c=e[n].name&&e[n].name.toString().toLowerCase();if(t){var o=t.toString().toLowerCase();(c&&c.indexOf(o)>=0||r&&r.indexOf(o)>=0)&&(a[n]={id:n,name:e[n].email})}else a[n]={id:n,name:e[n].email}}}),a}},91:function(e,t,a){"use strict";var n=a(2),r=a.n(n),c=a(7),o=a.n(c),i=a(69),l=a(21),s=a.n(l),u=a(36),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},f=function(e){function t(){var a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,c=Array(r),o=0;o<r;o++)c[o]=arguments[o];return a=n=d(this,e.call.apply(e,[this].concat(c))),n.handleClick=function(e){if(n.props.onClick&&n.props.onClick(e),!e.defaultPrevented&&0===e.button&&!n.props.target&&!p(e)){e.preventDefault();var t=n.context.router.history,a=n.props,r=a.replace,c=a.to;r?t.replace(c):t.push(c)}},d(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),a=e.innerRef,n=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["replace","to","innerRef"]);s()(this.context.router,"You should not use <Link> outside a <Router>"),s()(void 0!==t,'You must specify the "to" property');var c=this.context.router.history,o="string"===typeof t?Object(u.b)(t,null,null,c.location):t,i=c.createHref(o);return r.a.createElement("a",m({},n,{onClick:this.handleClick,href:i,ref:a}))},t}(r.a.Component);f.propTypes={onClick:o.a.func,target:o.a.string,replace:o.a.bool,to:o.a.oneOfType([o.a.string,o.a.object]).isRequired,innerRef:o.a.oneOfType([o.a.string,o.a.func])},f.defaultProps={replace:!1},f.contextTypes={router:o.a.shape({history:o.a.shape({push:o.a.func.isRequired,replace:o.a.func.isRequired,createHref:o.a.func.isRequired}).isRequired}).isRequired};var v=f,b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var h=function(e){var t=e.to,a=e.exact,n=e.strict,c=e.location,o=e.activeClassName,l=e.className,s=e.activeStyle,u=e.style,m=e.isActive,d=e["aria-current"],p=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["to","exact","strict","location","activeClassName","className","activeStyle","style","isActive","aria-current"]),f="object"===("undefined"===typeof t?"undefined":y(t))?t.pathname:t,h=f&&f.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1");return r.a.createElement(i.a,{path:h,exact:a,strict:n,location:c,children:function(e){var a=e.location,n=e.match,c=!!(m?m(n,a):n);return r.a.createElement(v,b({to:t,className:c?[l,o].filter(function(e){return e}).join(" "):l,style:c?b({},u,s):u,"aria-current":c&&d||null},p))}})};h.propTypes={to:v.propTypes.to,exact:o.a.bool,strict:o.a.bool,location:o.a.object,activeClassName:o.a.string,className:o.a.string,activeStyle:o.a.object,style:o.a.object,isActive:o.a.func,"aria-current":o.a.oneOf(["page","step","location","date","time","true"])},h.defaultProps={activeClassName:"active","aria-current":"page"};t.a=h}}]);
//# sourceMappingURL=15.99ec88ba.chunk.js.map